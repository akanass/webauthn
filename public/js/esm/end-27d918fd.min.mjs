const e=document.querySelector("#logout"),n=document.querySelector("#authenticator-management"),s=document.querySelector("#error-end"),t=document.querySelector("#error-end-message"),i=document.querySelector("#error-webauthn-message");let o,r;window.addEventListener("load",(()=>{d(),a(),c()}));const d=()=>{s.style.display="none",t.style.display="none",t.innerText="",i.style.display="none"},l=()=>{e.disabled=!0,n.disabled=!0},a=()=>{e.addEventListener("click",(()=>{d(),l(),o&&o.unsubscribe(),import("./_api-7927dcc4.min.mjs").then((({api:e})=>{o=e.logout().subscribe((()=>{o.unsubscribe(),window.location.href="/"}),(e=>u(e,o)))}))}))},c=()=>{n.addEventListener("click",(()=>{d(),l(),r&&r.unsubscribe(),import("./_webauthn-6dec5156.min.mjs").then((({webAuthn:n})=>{n.supported?import("./_api-7927dcc4.min.mjs").then((({api:e})=>{r=e.patchSession({key:"previous_step",value:"end"}).subscribe((()=>{r.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>u(e,r)))})):(s.style.display="flex",t.style.display="none",t.innerText="",i.style.display="inline",setTimeout((()=>{e.disabled=!1}),500))}))}))},u=(o,r)=>{if(401===o.status)r&&r.unsubscribe(),window.location.href="/error";else{const r=[].concat(o.response.message).shift();d=r,s.style.display="flex",t.style.display="inline",t.innerText=d,i.style.display="none",setTimeout((()=>(e.disabled=!1,void(n.disabled=!1))),500)}var d};
