const e=document.querySelector("#logout"),n=document.querySelector("#authenticator-management"),s=document.querySelector("#error-end"),t=document.querySelector("#error-end-message"),i=document.querySelector("#error-webauthn-message");let o,r;window.addEventListener("load",(()=>{a(),l(),u()}));const a=()=>{s.style.display="none",t.style.display="none",t.innerText="",i.style.display="none"},d=()=>{e.disabled=!0,n.disabled=!0},l=()=>{e.addEventListener("click",(()=>{a(),d(),o&&o.unsubscribe(),import("./_api-7aa778d1.min.mjs").then((({api:e})=>{o=e.logout().subscribe((()=>{o.unsubscribe(),window.location.href="/"}),(e=>c(e,o)))}))}))},u=()=>{n.addEventListener("click",(()=>{a(),d(),r&&r.unsubscribe(),import("./_webauthn-23d4f3b8.min.mjs").then((({webAuthn:n})=>{n.supported?import("./_api-7aa778d1.min.mjs").then((({api:e})=>{r=e.patchSession({key:"previous_step",value:"end"}).subscribe((()=>{r.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>c(e,r)))})):(s.style.display="flex",t.style.display="none",t.innerText="",i.style.display="inline",setTimeout((()=>{e.disabled=!1}),500))}))}))},c=(o,r)=>{if(401===o.status)r&&r.unsubscribe(),window.location.href="/error";else{const r=[].concat(o.response.message).shift();a=r,s.style.display="flex",t.style.display="inline",t.innerText=a,i.style.display="none",setTimeout((()=>(e.disabled=!1,void(n.disabled=!1))),500)}var a};
