const e=document.querySelector("#logout"),n=document.querySelector("#authenticator-management"),t=document.querySelector("#error-end"),s=document.querySelector("#error-end-message"),i=document.querySelector("#error-webauthn-message");let o,r;window.addEventListener("load",(()=>{l(),d(),u()}));const l=()=>{t.style.display="none",s.style.display="none",s.innerText="",i.style.display="none"},a=()=>{e.disabled=!0,n.disabled=!0},d=()=>{e.addEventListener("click",(()=>{l(),a(),o&&o.unsubscribe(),import("./_api-8810f469.min.mjs").then((({api:e})=>{o=e.logout().subscribe((()=>{o.unsubscribe(),window.location.href="/"}),(e=>c(e,o)))}))}))},u=()=>{n.addEventListener("click",(()=>{l(),a(),r&&r.unsubscribe(),import("./_webauthn-3c9ffdf1.min.mjs").then((({webAuthn:n})=>{n.supported?import("./_api-8810f469.min.mjs").then((({api:e})=>{r=e.patchSession({key:"previous_step",value:"end"}).subscribe((()=>{r.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>c(e,r)))})):(t.style.display="flex",s.style.display="none",s.innerText="",i.style.display="inline",setTimeout((()=>{e.disabled=!1}),500))}))}))},c=(o,r)=>{if(401===o.status)r&&r.unsubscribe(),window.location.href="/error";else{const r=[].concat(o.message).shift();l=r,t.style.display="flex",s.style.display="inline",s.innerText=l,i.style.display="none",setTimeout((()=>(e.disabled=!1,void(n.disabled=!1))),500)}var l};
