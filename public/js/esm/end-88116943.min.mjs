const e=document.querySelector("#logout"),n=document.querySelector("#authenticator-management"),t=document.querySelector("#error-end"),s=document.querySelector("#error-end-message"),i=document.querySelector("#error-webauthn-message");let o,a;window.addEventListener("load",(()=>{d(),l(),u()}));const d=()=>{t.style.display="none",s.style.display="none",s.innerText="",i.style.display="none"},r=()=>{e.disabled=!0,n.disabled=!0},l=()=>{e.addEventListener("click",(()=>{d(),r(),o&&o.unsubscribe(),import("./_api-3a44dad4.min.mjs").then((({api:e})=>{o=e.logout().subscribe((()=>{o.unsubscribe(),window.location.href="/"}),(e=>c(e,o)))}))}))},u=()=>{n.addEventListener("click",(()=>{d(),r(),a&&a.unsubscribe(),import("./_webauthn-dd6c3eb9.min.mjs").then((({webAuthn:n})=>{n.supported?import("./_api-3a44dad4.min.mjs").then((({api:e})=>{a=e.patchSession({key:"previous_step",value:"end"}).subscribe((()=>{a.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>c(e,a)))})):(t.style.display="flex",s.style.display="none",s.innerText="",i.style.display="inline",setTimeout((()=>{e.disabled=!1}),500))}))}))},c=(o,a)=>{if(401===o.status)a&&a.unsubscribe(),window.location.href="/error";else{const a=[].concat(o.message).shift();d=a,t.style.display="flex",s.style.display="inline",s.innerText=d,i.style.display="none",setTimeout((()=>(e.disabled=!1,void(n.disabled=!1))),500)}var d};
