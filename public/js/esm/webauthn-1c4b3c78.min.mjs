import{M as e}from"./component-5c1f61b7.min.mjs";import{m as t}from"./mergeMap-e0fb4859.min.mjs";import"./tslib.es6-1ebb5d3a.min.mjs";import"./component-8f6f38c2.min.mjs";import"./map-c50a29b4.min.mjs";import"./Observable-6ae2b1d1.min.mjs";import"./from-4d24ed45.min.mjs";const i=document.querySelector("#error-login-webauthn"),n=document.querySelector("#webAuthnLoginButton"),r=document.querySelector("#main-content"),o=new e(document.querySelector("#webauthn-dialog-verify")),m=document.querySelector("#verify-cancel-action"),s=document.querySelector("#verify-retry-action"),a=document.querySelector("#error-verify-credential");let d;window.addEventListener("load",(()=>{c(),p(),y()}));const c=()=>{i.style.display="none",b()},l=e=>{n.disabled=e},u=e=>{m.disabled=e,s.disabled=e},b=()=>{a.style.display="none"},p=()=>{n.addEventListener("click",(()=>{c(),l(!0),u(!1),import("./_webauthn-23d4f3b8.min.mjs").then((({webAuthn:e})=>{e.supported?import("./_template-49f95def.min.mjs").then((({template:e})=>{e.openDialog(o,void 0,(()=>{r.setAttribute("aria-hidden","true"),f()}),(()=>{r.removeAttribute("aria-hidden")}),(()=>{setTimeout((()=>l(!1)),500)}))})):(i.style.display="flex",setTimeout((()=>l(!1)),500))}))}))},y=()=>{s.addEventListener("click",(()=>f(!1)))},f=(e=!0)=>{b(),e?setTimeout((()=>u(!0)),200):u(!0),d&&d.unsubscribe(),import("./_webauthn-23d4f3b8.min.mjs").then((({webAuthn:e})=>import("./_api-7aa778d1.min.mjs").then((({api:i})=>{d=i.startAssertion().pipe(t((t=>e.startAssertion(t))),t((e=>i.verifyAssertion(e)))).subscribe((()=>{d.unsubscribe(),window.location.href="/end"}),(e=>{console.error(e),a.style.display="flex",setTimeout((()=>u(!1)),500)}))}))))};
