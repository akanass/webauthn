import{M as e}from"./component-5c1f61b7.min.mjs";import{m as t}from"./mergeMap-e0fb4859.min.mjs";import"./tslib.es6-1ebb5d3a.min.mjs";import"./component-8f6f38c2.min.mjs";import"./map-c50a29b4.min.mjs";import"./Observable-6ae2b1d1.min.mjs";import"./from-4d24ed45.min.mjs";const i=document.querySelector("#error-login-webauthn"),n=document.querySelector("#webAuthnLoginButton"),o=document.querySelector("#main-content"),r=new e(document.querySelector("#webauthn-dialog-verify")),s=document.querySelector("#verify-cancel-action"),m=document.querySelector("#verify-retry-action"),d=document.querySelector("#error-verify-credential"),c=document.querySelector("#verify-processing"),l=document.querySelector("#verify-success");let a;window.addEventListener("load",(()=>{u(),f(),h(),w()}));const u=()=>{i.style.display="none",p()},y=e=>{n.disabled=e},b=e=>{s.disabled=e,m.disabled=e},p=()=>{d.style.display="none"},f=()=>{n.addEventListener("click",(()=>{u(),y(!0),b(!1),import("./_webauthn-23d4f3b8.min.mjs").then((({webAuthn:e})=>{e.supported?import("./_template-49f95def.min.mjs").then((({template:e})=>{e.openDialog(r,void 0,(()=>{o.setAttribute("aria-hidden","true"),v()}),(()=>{o.removeAttribute("aria-hidden")}),(()=>{y(!1)}))})):(i.style.display="flex",setTimeout((()=>y(!1)),500))}))}))},h=()=>{m.addEventListener("click",(()=>v(!1)))},v=(e=!0)=>{p(),e?setTimeout((()=>b(!0)),200):b(!0),a&&a.unsubscribe(),import("./_webauthn-23d4f3b8.min.mjs").then((({webAuthn:e})=>import("./_api-7aa778d1.min.mjs").then((({api:i})=>{a=i.startAssertion().pipe(t((t=>e.startAssertion(t))),t((e=>i.verifyAssertion(e)))).subscribe((()=>{a.unsubscribe(),c.style.display="none",l.style.display="block",s.style.visibility="hidden",m.style.visibility="hidden",setTimeout((()=>window.location.href="/end"),1500)}),(e=>{console.error(e),d.style.display="flex",setTimeout((()=>b(!1)),500)}))}))))},w=()=>{r.scrimClickAction="",r.escapeKeyAction=""};
