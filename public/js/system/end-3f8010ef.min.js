System.register([],(function(e,t){"use strict";return{execute:function(){const e=document.querySelector("#logout"),n=document.querySelector("#authenticator-management"),s=document.querySelector("#error-end"),i=document.querySelector("#error-end-message"),o=document.querySelector("#error-webauthn-message");let r,a;window.addEventListener("load",(()=>{l(),u(),c()}));const l=()=>{s.style.display="none",i.style.display="none",i.innerText="",o.style.display="none"},d=()=>{e.disabled=!0,n.disabled=!0},u=()=>{e.addEventListener("click",(()=>{l(),d(),r&&r.unsubscribe(),t.import("./_api-3db968ba.min.js").then((({api:e})=>{r=e.logout().subscribe((()=>{r.unsubscribe(),window.location.href="/"}),(e=>b(e,r)))}))}))},c=()=>{n.addEventListener("click",(()=>{l(),d(),a&&a.unsubscribe(),t.import("./_webauthn-48af1c38.min.js").then((({webAuthn:n})=>{n.supported?t.import("./_api-3db968ba.min.js").then((({api:e})=>{a=e.patchSession({key:"previous_step",value:"end"}).subscribe((()=>{a.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>b(e,a)))})):(s.style.display="flex",i.style.display="none",i.innerText="",o.style.display="inline",setTimeout((()=>{e.disabled=!1}),500))}))}))},b=(t,r)=>{if(401===t.status)r&&r.unsubscribe(),window.location.href="/error";else{const r=[].concat(t.response.message).shift();a=r,s.style.display="flex",i.style.display="inline",i.innerText=a,o.style.display="none",setTimeout((()=>(e.disabled=!1,void(n.disabled=!1))),500)}var a}}}}));
