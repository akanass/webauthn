System.register([],(function(e,t){"use strict";return{execute:function(){const e=document.querySelector("#logout"),n=document.querySelector("#authenticator-management"),s=document.querySelector("#error-end"),i=document.querySelector("#error-end-message"),o=document.querySelector("#error-webauthn-message");let r,a;window.addEventListener("load",(()=>{l(),d(),c()}));const l=()=>{s.style.display="none",i.style.display="none",i.innerText="",o.style.display="none"},u=()=>{e.disabled=!0,n.disabled=!0},d=()=>{e.addEventListener("click",(()=>{l(),u(),r&&r.unsubscribe(),t.import("./_api-17a88781.min.js").then((({api:e})=>{r=e.logout().subscribe((()=>{r.unsubscribe(),window.location.href="/"}),(e=>y(e,r)))}))}))},c=()=>{n.addEventListener("click",(()=>{l(),u(),a&&a.unsubscribe(),t.import("./_webauthn-62022b65.min.js").then((({webAuthn:n})=>{n.supported?t.import("./_api-17a88781.min.js").then((({api:e})=>{a=e.patchSession({key:"previous_step",value:"end"}).subscribe((()=>{a.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>y(e,a)))})):(s.style.display="flex",i.style.display="none",i.innerText="",o.style.display="inline",setTimeout((()=>{e.disabled=!1}),500))}))}))},y=(t,r)=>{if(401===t.status)r&&r.unsubscribe(),window.location.href="/error";else{const r=[].concat(t.message).shift();a=r,s.style.display="flex",i.style.display="inline",i.innerText=a,o.style.display="none",setTimeout((()=>(e.disabled=!1,void(n.disabled=!1))),500)}var a}}}}));
