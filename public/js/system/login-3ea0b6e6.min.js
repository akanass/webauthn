System.register([],(function(e,t){"use strict";return{execute:function(){const e=document.querySelector("#login"),n=document.querySelector("#error-login"),s=document.querySelector("#error-login-message"),i=document.querySelector("#error-webauthn-message"),o=document.querySelector("#webauthn-redirect"),r=document.querySelector("#loginButton");let l;window.addEventListener("load",(()=>{a(),u(),d()}));const a=()=>{n.style.display="none",s.style.display="none",s.innerText="",i.style.display="none"},u=()=>{e.addEventListener("submit",(o=>{o.preventDefault(),a(),r.disabled=!0;const u=e.elements.username.value.toLowerCase(),d=e.elements.password.value;l&&l.unsubscribe(),t.import("./_api-3db968ba.min.js").then((({api:e})=>{l=e.login(u,d).subscribe((e=>{l.unsubscribe(),e.skipAuthenticatorRegistration?window.location.href="/end":window.location.href="/login/authenticator"}),(e=>{const t=[].concat(e.response.message).shift();var o;o=t,n.style.display="flex",s.style.display="inline",s.innerText=o,i.style.display="none",setTimeout((()=>r.disabled=!1),500)}))}))}))},d=()=>{o.addEventListener("click",(e=>{e.preventDefault(),a(),t.import("./_webauthn-48af1c38.min.js").then((({webAuthn:e})=>{e.supported?window.location.href=o.href:(n.style.display="flex",s.style.display="none",s.innerText="",i.style.display="inline")}))}))}}}}));
