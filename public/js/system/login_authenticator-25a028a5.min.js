System.register(["./mergeMap-6e5445a4.min.js","./tslib.es6-2105f430.min.js","./map-cfeb7eca.min.js"],(function(e,t){"use strict";var n;return{setters:[function(e){n=e.m},function(){},function(){}],execute:function(){const e=document.querySelector("#error-login-authenticator"),i=document.querySelector("#error-login-authenticator-message"),s=document.querySelector("#error-webauthn-message"),r=document.querySelector("#button-icon"),o=document.querySelector("#button-label"),a=document.querySelector("#start-enrollment"),l=document.querySelector("#stop-enrollment");let c,u;window.addEventListener("load",(()=>{d(),p(),m(),y()}));const d=()=>{e.style.display="none",i.style.display="none",i.innerText="",s.style.display="none"},p=()=>{r.innerText="fingerprint",o.innerText="Start Enrollment"},b=()=>{r.innerText="exit_to_app",o.innerText="Skip Enrollment"},m=()=>{l.addEventListener("click",(()=>{d(),l.checked?b():p()}))},y=()=>{a.addEventListener("click",(()=>{d(),a.disabled=!0,l.disabled=!0,c&&c.unsubscribe(),u&&u.unsubscribe(),l.checked?t.import("./_api-17a88781.min.js").then((({api:e})=>{c=e.loggedIn().pipe(n((t=>e.patchUser(t.userId,{skip_authenticator_registration:!0})))).subscribe((()=>{c.unsubscribe(),window.location.href="/end"}),(e=>h(e,c)))})):t.import("./_webauthn-62022b65.min.js").then((({webAuthn:n})=>{n.supported?t.import("./_api-17a88781.min.js").then((({api:e})=>{u=e.patchSession({key:"previous_step",value:"login_authenticator"}).subscribe((()=>{u.unsubscribe(),window.location.href="/webauthn/authenticator"}),(e=>h(e,u)))})):(e.style.display="flex",i.style.display="none",i.innerText="",s.style.display="inline",setTimeout((()=>(b(),a.disabled=!1,void(l.checked=!0))),500))}))}))},h=(t,n)=>{if(401===t.status)n&&n.unsubscribe(),window.location.href="/error";else{const n=[].concat(t.message).shift();r=n,e.style.display="flex",i.style.display="inline",i.innerText=r,s.style.display="none",setTimeout((()=>(a.disabled=!1,void(l.disabled=!1))),500)}var r}}}}));
