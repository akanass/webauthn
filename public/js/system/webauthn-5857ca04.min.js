System.register(["./component-2b4282f0.min.js","./mergeMap-b3e242d5.min.js","./tslib.es6-4c758cbf.min.js","./component-3d04a8d2.min.js","./map-ecca50c7.min.js","./Observable-a79d76be.min.js","./from-a8c881b3.min.js"],(function(e,t){"use strict";var n,i;return{setters:[function(e){n=e.M},function(e){i=e.m},function(){},function(){},function(){},function(){},function(){}],execute:function(){const e=document.querySelector("#error-login-webauthn"),o=document.querySelector("#webAuthnLoginButton"),r=document.querySelector("#main-content"),s=new n(document.querySelector("#webauthn-dialog-verify")),c=document.querySelector("#verify-cancel-action"),u=document.querySelector("#verify-retry-action"),a=document.querySelector("#error-verify-credential");let d;window.addEventListener("load",(()=>{m(),y(),p(),v()}));const m=()=>{e.style.display="none",f()},l=e=>{o.disabled=e},b=e=>{c.disabled=e,u.disabled=e},f=()=>{a.style.display="none"},y=()=>{o.addEventListener("click",(()=>{m(),l(!0),b(!1),t.import("./_webauthn-c77ff969.min.js").then((({webAuthn:n})=>{n.supported?t.import("./_template-90452a5c.min.js").then((({template:e})=>{e.openDialog(s,void 0,(()=>{r.setAttribute("aria-hidden","true"),h()}),(()=>{r.removeAttribute("aria-hidden")}),(()=>{setTimeout((()=>l(!1)),500)}))})):(e.style.display="flex",setTimeout((()=>l(!1)),500))}))}))},p=()=>{u.addEventListener("click",(()=>h(!1)))},h=(e=!0)=>{f(),e?setTimeout((()=>b(!0)),200):b(!0),d&&d.unsubscribe(),t.import("./_webauthn-c77ff969.min.js").then((({webAuthn:e})=>t.import("./_api-5f14e338.min.js").then((({api:t})=>{d=t.startAssertion().pipe(i((t=>e.startAssertion(t))),i((e=>t.verifyAssertion(e)))).subscribe((()=>{d.unsubscribe(),window.location.href="/end"}),(e=>{console.error(e),a.style.display="flex",setTimeout((()=>b(!1)),500)}))}))))},v=()=>{s.scrimClickAction="",s.escapeKeyAction=""}}}}));
